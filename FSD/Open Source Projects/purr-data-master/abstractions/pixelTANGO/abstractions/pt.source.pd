#N canvas 262 445 130 32 10;
#N canvas 207 307 869 475 interna 0;
#X obj 364 47 cnv 15 300 250 empty empty empty 5 8 1 10 -260390 -1
0;
#X obj 605 57 inlet;
#X obj 11 47 cnv 15 350 250 empty empty empty 5 8 1 10 -3121 -1 0;
#X text 10 3 Input Source Selection (dv \, stream \, analog \, qt \,
image \, buffer);
#X obj 22 187 pix_image;
#X obj 110 187 pix_film;
#X obj 22 162 spigot;
#X obj 110 163 spigot;
#X obj 615 276 outlet;
#X obj 21 57 inlet;
#N canvas 591 359 481 390 selector 0;
#X obj 23 34 inlet;
#X obj 33 178 outlet;
#X obj 81 178 outlet;
#X obj 128 178 outlet;
#X obj 34 156 == 0;
#X obj 81 156 == 1;
#X obj 128 156 == 2;
#X obj 84 111 loadbang;
#X msg 84 131 1;
#X text 146 112 Default;
#X text 67 35 Which stream? (0-image \, 1-movie \, 2-stream);
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 0 0 6 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 8 0 4 0;
#X connect 8 0 6 0;
#X restore 256 77 pd selector;
#X obj 211 162 spigot;
#X obj 256 56 r \$0-source;
#X obj 439 119 s \$0-ip;
#X obj 493 119 s \$0-port;
#X obj 561 119 s \$0-connect;
#X obj 567 144 s \$0-loopPos;
#N canvas 650 370 503 404 loop 0;
#X text 2 6 Changes incoming relative loopPos into frame numbers for
this film.;
#X obj 167 60 r \$0-numFrames;
#X obj 18 220 outlet;
#X obj 18 42 r \$0-loopPos;
#X floatatom 39 160 8 0 0 0 - - -;
#X floatatom 49 100 8 0 0 0 - - -;
#X obj 18 187 int;
#X text 16 274 I'm not quite sure how to fix this... suggestions? How
can we get this relative loop reference to work? We still need a high-resolution
relative position \, but want 33ms per frame \, not for the least significant
digit!;
#X obj 18 131 expr $f1/(1000000/$f2);
#X floatatom 199 105 5 0 0 0 - - -;
#X floatatom 56 186 5 0 0 0 - - -;
#X text 184 131 frame = loopPos/(1000000/numFrames);
#X text 19 252 This does not work. each 1/100 of a frame takes 33ms!!
;
#X text 17 335 Using non-relative frames seems to be the only answer
\, but how best to pass numframes data from pt.source to pt.loop? 3rd
inlet??;
#X connect 1 0 8 1;
#X connect 1 0 9 0;
#X connect 3 0 5 0;
#X connect 3 0 8 0;
#X connect 6 0 2 0;
#X connect 8 0 4 0;
#X connect 8 0 6 0;
#X connect 10 0 2 0;
#X restore 37 343 pd loop;
#X obj 22 267 outlet;
#X obj 69 57 r \$0-file;
#X obj 371 119 s \$0-file;
#X obj 135 206 unpack f f f;
#X obj 211 187 pix_dvts;
#X obj 172 187 t f;
#X obj 382 90 route file ip port connect loopPos;
#X obj 135 225 prepend numFrames;
#X text 229 145 Deferred for TOT2;
#X text 248 310 Accept absolute frame number! (loopPos);
#X obj 161 55 r \$0-loopPos;
#X text 94 343 Depreciated method using relative frame;
#X obj 135 244 prepend loopBack;
#X connect 1 0 24 0;
#X connect 4 0 18 0;
#X connect 5 0 18 0;
#X connect 5 1 21 0;
#X connect 5 2 23 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 9 0 6 0;
#X connect 9 0 7 0;
#X connect 9 0 11 0;
#X connect 10 0 6 1;
#X connect 10 1 7 1;
#X connect 11 0 22 0;
#X connect 12 0 10 0;
#X connect 19 0 6 0;
#X connect 19 0 7 0;
#X connect 21 0 25 0;
#X connect 22 0 18 0;
#X connect 23 0 5 1;
#X connect 24 0 20 0;
#X connect 24 1 13 0;
#X connect 24 2 14 0;
#X connect 24 3 15 0;
#X connect 24 4 16 0;
#X connect 24 5 8 0;
#X connect 25 0 30 0;
#X connect 28 0 5 1;
#X connect 30 0 8 0;
#X restore 10 90 pd interna;
#X obj 10 67 inlet;
#X obj 75 68 inlet;
#X obj 9 112 outlet;
#X obj 75 112 outlet;
#X text 14 43 Input Source;
#X obj 1 1 cnv 5 128 30 empty empty empty 5 6 1 9 -249661 -66577 0
;
#X obj 141 8 s \$0-source;
#X obj 3 3 popup 124 25 grey95 Source Image Movie;
#X connect 0 0 3 0;
#X connect 0 1 4 0;
#X connect 1 0 0 0;
#X connect 2 0 0 1;
#X connect 8 0 7 0;
#X coords 0 0 1 1 130 32 1;
