max v2;
#N vpatcher 146 162 914 644;
#P origin 0 8;
#P message 546 392 84 196617 vasp bufre bufim;
#N vpatcher 40 55 218 175;
#P newex 45 79 61 196617 vasp.update;
#P newex 45 56 45 196617 vasp.= 0;
#N comlet vasp to clear in;
#P inlet 45 26 15 0;
#P connect 0 0 1 0;
#P connect 1 0 2 0;
#P pop;
#P newobj 546 413 78 196617 p clear_buffers;
#P hidden newex 631 367 54 196617 r 1061path1;
#P user umenu 255 103 72 196647 1 64 119 1;
#X add bass.aif;
#X add beat.aif;
#X add fly.aif;
#X add plastic.aif;
#X add your_own...;
#N vpatcher 93 462 631 722;
#P message 59 102 28 196617 read;
#P newex 59 69 89 196617 route your_own...;
#N comlet popup comment in;
#P inlet 59 26 15 0;
#P newex 59 149 54 196617 s 1061path1;
#P newex 138 102 79 196617 sprintf read %s;
#P connect 2 0 3 0;
#P connect 3 0 4 0;
#P connect 4 0 1 0;
#P fasten 0 0 1 0 143 134 64 134;
#P connect 3 1 0 0;
#P pop;
#P hidden newobj 317 133 43 196617 p loader;
#P comment 229 105 26 196617 read;
#P comment 140 319 217 196617 inverse cfft to transform back to time domain;
#P newex 54 367 61 196617 vasp.update;
#P message 54 318 84 196617 vasp bufre bufim;
#P newex 54 346 52 196617 vasp.c!fft;
#N vpatcher 122 59 923 629;
#P origin 0 12;
#P comment 100 398 152 196617 set selected samples to 0;
#P user umenu 259 107 72 196647 1 64 123 1;
#X add bass.aif;
#X add beat.aif;
#X add fly.aif;
#X add plastic.aif;
#X add your_own...;
#N vpatcher 93 462 344 681;
#P message 59 102 28 196617 read;
#P newex 59 69 89 196617 route your_own...;
#N comlet popup comment in;
#P inlet 59 26 15 0;
#P newex 59 149 48 196617 s 1061path;
#P newex 138 102 79 196617 sprintf read %s;
#P connect 2 0 3 0;
#P connect 3 0 4 0;
#P connect 4 0 1 0;
#P fasten 0 0 1 0 143 134 64 134;
#P connect 3 1 0 0;
#P pop;
#P hidden newobj 321 137 43 196617 p loader;
#P message 566 469 95 196617 vasp bufre1 bufim1;
#N vpatcher 40 55 218 175;
#P newex 45 79 61 196617 vasp.update;
#P newex 45 56 45 196617 vasp.= 0;
#N comlet vasp to clear in;
#P inlet 45 26 15 0;
#P connect 0 0 1 0;
#P connect 1 0 2 0;
#P pop;
#P newobj 566 489 78 196617 p clear_buffers;
#P hidden newex 662 447 48 196617 r 1061path;
#P comment 230 108 26 196617 read;
#P comment 148 206 53 196617 transform;
#P comment 311 323 21 196617 and;
#P comment 283 323 17 196617 Hz;
#P flonum 224 321 59 9 0 0 160 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P hidden newex 554 406 27 196617 - 0.;
#P hidden newex 554 385 27 196617 t b f;
#P newex 51 489 61 196617 vasp.update;
#P comment 150 448 54 196617 invers cfft;
#P message 51 447 95 196617 vasp bufre1 bufim1;
#P newex 51 467 52 196617 vasp.c!fft;
#P comment 115 269 207 196617 clear upper (mirrored frequencies);
#P newex 51 287 61 196617 vasp.update;
#P newex 51 267 45 196617 vasp.= 0;
#P button 334 321 15 0;
#P newex 51 417 61 196617 vasp.update;
#P newex 51 396 45 196617 vasp.= 0;
#P message 67 373 158 196617 set vasp \$1 bufre1 \$2 bufim1 \$2;
#N vpatcher 139 82 551 321;
#P origin 0 107;
#N comlet length and offset as a list;
#P outlet 99 199 15 0;
#P comment 161 182 194 196617 2nd element of the list offset of the vasp;
#N comlet loop startpoint;
#P inlet 69 24 15 0;
#N comlet loop endpoint;
#P inlet 99 24 15 0;
#P newex 99 94 27 196617 - 0.;
#P newex 99 73 27 196617 t b f;
#P comment 181 117 72 196617 msec to samps;
#P comment 136 93 118 196617 <<< end - start = length;
#P newex 255 135 87 196617 * 44.099998;
#P newex 99 114 71 196617 * 44.099998;
#P newex 99 162 50 196617 pack 0 0;
#P comment 162 165 194 196617 1st element of the list lenght of the vasp;
#P fasten 9 0 6 0 74 61 104 61;
#P fasten 8 0 7 0 104 52 89 52 89 92 104 92;
#P connect 6 0 7 0;
#P connect 7 0 2 0;
#P connect 2 0 1 0;
#P connect 1 0 11 0;
#P connect 6 1 7 1;
#P fasten 3 0 1 1 260 157 144 157;
#P fasten 9 0 3 0 74 61 260 61;
#P pop;
#P newobj 67 346 64 196617 p looptovasp;
#P comment 452 365 71 196617 selection from;
#P comment 668 365 17 196617 Hz;
#P comment 586 365 17 196617 to;
#P flonum 606 363 59 9 0 0 160 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P flonum 525 363 59 9 0 0 160 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P hidden newex 606 342 27 196617 / 4.;
#P hidden newex 525 342 27 196617 / 4.;
#P hidden newex 606 325 67 196617 * 44.099998;
#P hidden newex 525 324 66 196617 * 44.099998;
#P comment 737 318 42 196617 44.1kHz;
#P comment 451 319 35 196617 0 Hz;
#P newex 51 246 55 196617 vasp.upper;
#P comment 714 202 49 196617 imaginary;
#P message 51 205 95 196617 vasp bufre1 bufim1;
#P newex 51 226 49 196617 vasp.cfft;
#P hidden message 452 198 55 196617 set bufim1;
#P user waveform~ 452 216 312 99 3 9;
#W mode select;
#W mouseoutput continuous;
#W unit ms;
#W grid 1000.;
#W ticks 8.;
#W labels 1;
#W vlabels 1;
#W vticks 1;
#W vzoom 1.;
#W voffset 0.;
#W bpm 120. 4.;
#W frgb 0 0 0;
#W brgb 255 255 255;
#W rgb2 132 132 132;
#W rgb3 0 0 0;
#W rgb4 0 0 0;
#W rgb5 255 255 255;
#W rgb6 100 100 100;
#W rgb7 100 100 100;
#P newex 662 489 102 196617 buffer~ bufim1 4000;
#N vpatcher 40 55 418 371;
#P button 183 82 15 0;
#P newex 129 145 60 196617 prepend set;
#N comlet waveform~ mode messages;
#P inlet 129 121 15 0;
#P newex 259 64 27 196617 << 1;
#P newex 206 121 40 196617 change;
#P newex 206 145 107 196617 select 0 1 2;
#P newex 206 98 27 196617 |;
#P newex 47 121 40 196617 change;
#P outlet 129 252 15 0;
#P message 47 145 65 196617 constrain \$1;
#P newex 129 195 45 196617 loadbang;
#P newex 47 40 222 196617 pushkeys;
#P message 270 169 58 196617 mode move;
#P message 206 213 61 196617 mode select;
#P message 238 191 52 196617 mode loop;
#P connect 3 0 7 0;
#P connect 7 0 5 0;
#P connect 12 0 13 0;
#P fasten 5 0 6 0 52 243 134 243;
#P fasten 0 0 6 0 243 243 134 243;
#P fasten 1 0 6 0 211 243 134 243;
#P fasten 2 0 6 0 275 243 134 243;
#P connect 11 0 14 0;
#P connect 3 3 8 0;
#P connect 14 0 8 0;
#P connect 8 0 10 0;
#P connect 10 0 9 0;
#P connect 4 0 1 0;
#P connect 9 0 1 0;
#P connect 13 0 1 0;
#P connect 11 0 8 1;
#P connect 9 1 0 0;
#P connect 3 4 11 0;
#P connect 9 2 2 0;
#P pop;
#P hidden newobj 452 33 49 196617 p wfkeys;
#P message 411 490 27 196617 stop;
#P message 343 490 65 196617 startwindow;
#P newex 452 516 29 196617 dac~;
#P newex 452 464 30 196617 line~;
#P message 452 441 72 196617 0 \, 4000 4000;
#P newex 452 489 65 196617 play~ bufre1;
#P hidden message 452 76 55 196617 set bufre1;
#P hidden newex 452 55 45 196617 loadbang;
#P user waveform~ 452 95 312 99 3 9;
#W mode select;
#W mouseoutput continuous;
#W unit ms;
#W grid 1000.;
#W ticks 8.;
#W labels 1;
#W vlabels 1;
#W vticks 1;
#W vzoom 1.;
#W voffset 0.;
#W bpm 120. 4.;
#W frgb 0 0 0;
#W brgb 255 255 255;
#W rgb2 132 132 132;
#W rgb3 0 0 0;
#W rgb4 0 0 0;
#W rgb5 255 255 255;
#W rgb6 100 100 100;
#W rgb7 100 100 100;
#P newex 51 149 55 196617 vasp.* 0.5;
#P newex 51 171 61 196617 vasp.update;
#P message 51 107 62 196617 vasp bufre1;
#P newex 662 469 102 196617 buffer~ bufre1 4000;
#P newex 51 127 55 196617 vasp.noise;
#P comment 45 60 242 196617 clear a region in the frequency domain to get a filter;
#P comment 45 38 144 196622 filter_example;
#P comment 115 108 112 196617 generate white noise or;
#P comment 739 82 26 196617 real;
#P comment 115 289 207 196617 now time is frequency and frequency is time;
#P comment 594 317 35 196617 sr/2;
#P comment 132 348 286 196617 this patcher scales a wavedraw selection into the vasp format;
#P comment 67 323 152 196617 select a region ( frequency band);
#P connect 10 0 8 0;
#P connect 8 0 12 0;
#P connect 12 0 11 0;
#P connect 27 0 26 0;
#P connect 26 0 29 0;
#P connect 29 0 46 0;
#P connect 46 0 47 0;
#P connect 42 0 43 0;
#P fasten 45 0 43 0 339 342 56 342;
#P lcolor 15;
#P connect 43 0 44 0;
#P connect 50 0 49 0;
#P connect 49 0 52 0;
#P hidden fasten 24 2 41 0 577 318 72 318;
#P connect 41 0 42 0;
#P hidden fasten 24 3 41 1 637 318 126 318;
#P hidden fasten 54 0 55 0 559 425 426 425 426 318 229 318;
#P hidden connect 64 1 63 0;
#P hidden connect 14 0 15 0;
#P hidden fasten 9 1 15 0 759 486 774 486 774 75;
#P hidden connect 22 0 13 0;
#P hidden connect 15 0 13 0;
#P hidden fasten 14 0 25 0 457 198 457 198;
#P hidden connect 25 0 24 0;
#P hidden fasten 22 0 24 0 457 91 457 91;
#P connect 17 0 18 0;
#P connect 18 0 16 0;
#P fasten 21 0 19 0 416 509 457 509;
#P fasten 20 0 19 0 348 509 457 509;
#P connect 16 0 19 0;
#P connect 16 0 19 1;
#P hidden fasten 24 2 32 0 577 323 530 323;
#P hidden connect 32 0 34 0;
#P hidden connect 34 0 36 0;
#P hidden fasten 36 0 53 0 530 382 559 382;
#P hidden fasten 37 0 54 0 611 404 559 404;
#P hidden connect 53 0 54 0;
#P connect 62 0 61 0;
#P hidden connect 53 1 54 1;
#P hidden fasten 24 3 33 0 637 323 611 323;
#P hidden connect 33 0 35 0;
#P hidden connect 35 0 37 0;
#P hidden connect 60 0 9 0;
#P hidden fasten 24 5 13 4 757 346 757 346 757 73 757 73;
#P hidden connect 13 5 24 4;
#P pop;
#P newobj 54 411 83 196617 p filter_example;
#P comment 699 315 42 196617 44.1kHz;
#P comment 413 316 35 196617 0 Hz;
#P newex 54 272 61 196617 vasp.update;
#P comment 677 198 49 196617 imaginary;
#P message 54 223 84 196617 vasp bufre bufim;
#P newex 54 244 49 196617 vasp.cfft;
#P hidden message 414 195 50 196617 set bufim;
#P user waveform~ 414 213 312 99 3 9;
#W mode select;
#W mouseoutput continuous;
#W unit ms;
#W grid 1000.;
#W ticks 8.;
#W labels 1;
#W vlabels 1;
#W vticks 1;
#W vzoom 1.;
#W voffset 0.;
#W bpm 120. 4.;
#W frgb 0 0 0;
#W brgb 255 255 255;
#W rgb2 132 132 132;
#W rgb3 0 0 0;
#W rgb4 0 0 0;
#W rgb5 255 255 255;
#W rgb6 100 100 100;
#W rgb7 100 100 100;
#P newex 631 412 95 196617 buffer~ bufim 4000;
#N vpatcher 40 55 418 371;
#P button 183 82 15 0;
#P newex 129 145 60 196617 prepend set;
#N comlet waveform~ mode messages;
#P inlet 129 121 15 0;
#P newex 259 64 27 196617 << 1;
#P newex 206 121 40 196617 change;
#P newex 206 145 107 196617 select 0 1 2;
#P newex 206 98 27 196617 |;
#P newex 47 121 40 196617 change;
#P outlet 129 252 15 0;
#P message 47 145 65 196617 constrain \$1;
#P newex 129 195 45 196617 loadbang;
#P newex 47 40 222 196617 pushkeys;
#P message 270 169 58 196617 mode move;
#P message 206 213 61 196617 mode select;
#P message 238 191 52 196617 mode loop;
#P connect 3 0 7 0;
#P connect 7 0 5 0;
#P connect 12 0 13 0;
#P fasten 2 0 6 0 275 243 134 243;
#P fasten 1 0 6 0 211 243 134 243;
#P fasten 0 0 6 0 243 243 134 243;
#P fasten 5 0 6 0 52 243 134 243;
#P connect 11 0 14 0;
#P connect 14 0 8 0;
#P connect 3 3 8 0;
#P connect 8 0 10 0;
#P connect 10 0 9 0;
#P connect 13 0 1 0;
#P connect 9 0 1 0;
#P connect 4 0 1 0;
#P connect 11 0 8 1;
#P connect 9 1 0 0;
#P connect 3 4 11 0;
#P connect 9 2 2 0;
#P pop;
#P hidden newobj 414 30 49 196617 p wfkeys;
#P message 373 413 27 196617 stop;
#P message 305 413 65 196617 startwindow;
#P newex 414 439 29 196617 dac~;
#P newex 414 387 30 196617 line~;
#P message 414 364 72 196617 0 \, 4000 4000;
#P newex 414 412 60 196617 play~ bufre;
#P hidden message 414 73 49 196617 set bufre;
#P hidden newex 414 52 45 196617 loadbang;
#P user waveform~ 414 92 312 99 3 9;
#W mode select;
#W mouseoutput continuous;
#W unit ms;
#W grid 1000.;
#W ticks 8.;
#W labels 1;
#W vlabels 1;
#W vticks 1;
#W vzoom 1.;
#W voffset 0.;
#W bpm 120. 4.;
#W frgb 0 0 0;
#W brgb 255 255 255;
#W rgb2 132 132 132;
#W rgb3 0 0 0;
#W rgb4 0 0 0;
#W rgb5 255 255 255;
#W rgb6 100 100 100;
#W rgb7 100 100 100;
#P newex 55 158 55 196617 vasp.* 0.5;
#P newex 55 180 61 196617 vasp.update;
#P message 55 104 55 196617 vasp bufre;
#P newex 631 392 95 196617 buffer~ bufre 4000;
#P newex 55 136 55 196617 vasp.noise;
#P comment 53 58 182 196617 complex fourier transformation;
#P comment 53 35 89 196622 vasp.cfft;
#P comment 113 105 115 196617 generate white noise or;
#P comment 53 73 105 196617 cfft needs two buffers;
#P comment 703 78 26 196617 real;
#P comment 119 275 207 196617 now time is frequency and frequency is time;
#P comment 556 314 35 196617 sr/2;
#P connect 26 0 25 0;
#P connect 25 0 28 0;
#P connect 33 0 32 0;
#P connect 32 0 34 0;
#P connect 9 0 7 0;
#P connect 7 0 11 0;
#P connect 11 0 10 0;
#P hidden connect 38 1 37 0;
#P hidden connect 13 0 14 0;
#P hidden fasten 8 1 14 0 721 408 737 408 737 72;
#P hidden connect 21 0 12 0;
#P hidden connect 14 0 12 0;
#P hidden fasten 13 0 24 0 419 195 419 195;
#P hidden connect 24 0 23 0;
#P hidden fasten 21 0 23 0 419 88 419 88;
#P connect 16 0 17 0;
#P connect 17 0 15 0;
#P connect 15 0 18 0;
#P fasten 19 0 18 0 310 432 419 432;
#P fasten 20 0 18 0 378 432 419 432;
#P connect 15 0 18 1;
#P connect 41 0 40 0;
#P hidden connect 39 0 8 0;
#P hidden fasten 23 5 12 4 719 343 745 343 745 70 719 70;
#P hidden connect 12 5 23 4;
#P pop;
