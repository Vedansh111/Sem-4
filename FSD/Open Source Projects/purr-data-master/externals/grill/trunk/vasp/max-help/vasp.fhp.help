max v2;
#N vpatcher 228 129 899 595;
#P message 466 372 55 196617 vasp bufhp;
#N vpatcher 40 55 218 175;
#P newex 45 79 61 196617 vasp.update;
#P newex 45 56 45 196617 vasp.= 0;
#N comlet vasp to clear in;
#P inlet 45 26 15 0;
#P connect 0 0 1 0;
#P connect 1 0 2 0;
#P pop;
#P newobj 466 392 73 196617 p clear_buffer;
#P comment 196 241 44 196617 q-faktor;
#N vpatcher 169 125 534 375;
#P flonum 70 179 61 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 70 125 27 196617 t b f;
#P message 309 151 27 196617 stop;
#P message 243 151 65 196617 startwindow;
#P newex 243 173 29 196617 dac~;
#P comment 141 175 83 196617 period length in samples (float);
#P flonum 88 97 43 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 70 147 27 196617 / 1.;
#P flonum 68 73 54 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 54 49 53 196617 dspstate~;
#P comment 133 98 100 196617 frequency in Hz;
#P connect 1 1 2 0;
#P fasten 4 0 9 0 93 118 75 118;
#P fasten 2 0 3 0 73 115 54 115 54 145 75 145;
#P connect 9 0 3 0;
#P connect 3 0 10 0;
#P connect 9 1 3 1;
#P fasten 8 0 6 0 314 169 248 169;
#P connect 7 0 6 0;
#P pop;
#P newobj 45 391 109 196617 p Hz_to_period_length;
#P number 195 255 35 9 1 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P flonum 137 255 45 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 137 276 68 196617 pack 0 0;
#P comment 38 88 266 196617 second argument: q-factor from 1 - ° (integer) default 1;
#P newex 45 322 61 196617 vasp.update;
#P message 45 255 55 196617 vasp bufhp;
#P newex 45 301 65 196617 vasp.fhp 220;
#N vpatcher 40 55 418 371;
#P button 183 82 15 0;
#P newex 129 145 60 196617 prepend set;
#N comlet waveform~ mode messages;
#P inlet 129 121 15 0;
#P newex 259 64 27 196617 << 1;
#P newex 206 121 40 196617 change;
#P newex 206 145 107 196617 select 0 1 2;
#P newex 206 98 27 196617 |;
#P newex 47 121 40 196617 change;
#P outlet 129 252 15 0;
#P message 47 145 65 196617 constrain \$1;
#P newex 129 195 45 196617 loadbang;
#P newex 47 40 222 196617 pushkeys;
#P message 270 169 58 196617 mode move;
#P message 206 213 61 196617 mode select;
#P message 238 191 52 196617 mode loop;
#P connect 3 0 7 0;
#P connect 7 0 5 0;
#P connect 12 0 13 0;
#P fasten 5 0 6 0 52 243 134 243;
#P fasten 0 0 6 0 243 243 134 243;
#P fasten 1 0 6 0 211 243 134 243;
#P fasten 2 0 6 0 275 243 134 243;
#P connect 11 0 14 0;
#P connect 3 3 8 0;
#P connect 14 0 8 0;
#P connect 8 0 10 0;
#P connect 10 0 9 0;
#P connect 4 0 1 0;
#P connect 9 0 1 0;
#P connect 13 0 1 0;
#P connect 11 0 8 1;
#P connect 9 1 0 0;
#P connect 3 4 11 0;
#P connect 9 2 2 0;
#P pop;
#P hidden newobj 328 100 49 196617 p wfkeys;
#P message 287 392 27 196617 stop;
#P message 219 392 65 196617 startwindow;
#P newex 328 418 29 196617 dac~;
#P newex 328 366 30 196617 line~;
#P message 328 343 72 196617 0 \, 2000 2000;
#P newex 328 391 60 196617 play~ bufhp;
#P hidden message 328 142 49 196617 set bufhp;
#P hidden newex 328 122 45 196617 loadbang;
#P user waveform~ 328 162 312 99 3 9;
#W mode select;
#W mouseoutput continuous;
#W unit ms;
#W grid 1000.;
#W ticks 8.;
#W labels 1;
#W vlabels 1;
#W vticks 1;
#W vzoom 1.;
#W voffset 0.;
#W bpm 120. 4.;
#W frgb 0 0 0;
#W brgb 255 255 255;
#W rgb2 132 132 132;
#W rgb3 0 0 0;
#W rgb4 0 0 0;
#W rgb5 255 255 255;
#W rgb6 100 100 100;
#W rgb7 100 100 100;
#P newex 45 194 55 196617 vasp.* 0.5;
#P newex 45 216 61 196617 vasp.update;
#P message 45 151 55 196617 vasp bufhp;
#P newex 544 391 95 196617 buffer~ bufhp 2000;
#P newex 45 172 55 196617 vasp.noise;
#P comment 38 58 136 196617 vasp high pass filter (FIR);
#P comment 38 34 89 196622 vasp.fhp;
#P comment 109 152 99 196617 generate white noise;
#P comment 38 73 224 196617 first argument: cutoff frequency in period length;
#P comment 137 241 36 196617 cutoff;
#P comment 38 103 185 196617 right inlet: cutoff and q-factor (list);
#P connect 8 0 6 0;
#P connect 6 0 10 0;
#P connect 10 0 9 0;
#P connect 22 0 21 0;
#P connect 21 0 23 0;
#P fasten 25 0 21 1 142 297 105 297;
#P connect 26 0 25 0;
#P connect 27 0 25 1;
#P hidden connect 12 0 13 0;
#P hidden connect 20 0 11 0;
#P hidden connect 13 0 11 0;
#P connect 15 0 16 0;
#P connect 16 0 14 0;
#P connect 14 0 17 0;
#P fasten 19 0 17 0 292 410 333 410;
#P fasten 18 0 17 0 224 410 333 410;
#P connect 14 0 17 1;
#P connect 31 0 30 0;
#P pop;
