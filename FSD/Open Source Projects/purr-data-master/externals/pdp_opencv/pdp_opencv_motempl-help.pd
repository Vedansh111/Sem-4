#N canvas 1 49 1424 780 10;
#X text 22 30 written by Lluis Gomez i Bigorda ( lluisgomez@hangar.org
);
#X text 23 6 pdp_opencv_motempl : opencv motion detection based on
movement history;
#X obj 11 63 cnv 15 621 250 empty empty empty 20 12 0 14 -260097 -66577
0;
#X obj 251 103 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 251 130 metro 40;
#X msg 341 157 close;
#X obj 271 228 pdp_v4l;
#X msg 328 125 open /dev/video0;
#X obj 440 98 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 440 125 metro 40;
#X msg 521 144 close;
#X msg 517 120 open /dev/video0;
#X obj 461 224 pdp_v4l2;
#X msg 526 199 format \$1;
#X obj 527 177 hradio 15 1 0 4 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 41 278 pdp_qt;
#X obj 74 214 metro 40;
#X msg 74 186 bang;
#X msg 115 186 stop;
#X obj 41 117 openpanel;
#X msg 41 142 open \$1;
#X msg 41 89 bang;
#X msg 75 241 loop \$1;
#X obj 155 241 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 155 159 loadbang;
#X text 84 92 playing a video file;
#X text 281 101 Camera input;
#X obj 101 279 hsl 128 15 0 500 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 12 324 cnv 15 621 250 empty empty empty 20 12 0 14 -258113 -66577
0;
#X floatatom 191 500 5 0 0 0 - - -;
#X floatatom 242 459 5 0 0 0 - - -;
#X text 231 502 Threshold value. (default 30);
#X floatatom 201 658 5 0 0 0 - - -;
#X floatatom 236 658 5 0 0 0 - - -;
#X floatatom 273 658 5 0 0 0 - - -;
#X floatatom 307 658 5 0 0 0 - - -;
#X floatatom 412 657 5 0 0 0 - - -;
#X floatatom 447 657 5 0 0 0 - - -;
#X floatatom 484 657 5 0 0 0 - - -;
#X floatatom 518 657 5 0 0 0 - - -;
#X obj 198 629 unpack 0 0 0 0 0;
#X obj 409 628 unpack 0 0 0 0 0;
#X floatatom 344 657 5 0 0 0 - - -;
#X floatatom 556 657 5 0 0 0 - - -;
#X text 198 610 (-1) means the whole image;
#X text 194 675 Xcenter Ycenter Width Height Angle;
#X text 409 673 Xcenter Ycenter Width Height Angle;
#X obj 62 555 pdp_opencv_motempl;
#X obj 62 672 pdp_xv;
#X msg 138 456 mhi_duration \$1;
#X floatatom 207 338 5 0 0 0 - - -;
#X msg 89 335 max_time_delta \$1;
#X floatatom 221 363 5 0 0 0 - - -;
#X msg 104 361 min_time_delta \$1;
#X floatatom 250 428 5 0 0 0 - - -;
#X msg 122 426 frame_buffer_num \$1;
#X floatatom 218 518 5 0 0 0 - - -;
#X floatatom 229 537 5 0 0 0 - - -;
#X text 269 539 Max size of the motion component (default 500);
#X text 259 518 Min size of the motion component (default 50);
#X text 245 337 Max time delta in seconds. (default 0.5);
#X text 259 363 Min time delta in seconds. (default 0.05);
#X text 291 428 Number of frames in the history buffer. (default 4)
;
#X text 284 460 Maximal duration of motion track in seconds. (default
1.0);
#X msg 115 392 aperture \$1;
#X msg 235 390 3;
#X msg 268 390 5;
#X msg 299 390 7;
#X text 406 610 For each motion component;
#X text 327 392 aperture ( 1 \, 3 \, 5 or 7 \, default 3 );
#X msg 202 390 1;
#X obj 198 587 route -1 1 2 3 4;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 47 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 12 0 47 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 47 0;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 18 0 16 0;
#X connect 19 0 20 0;
#X connect 20 0 15 0;
#X connect 21 0 19 0;
#X connect 22 0 15 0;
#X connect 23 0 22 0;
#X connect 24 0 23 0;
#X connect 24 0 17 0;
#X connect 27 0 15 1;
#X connect 29 0 47 1;
#X connect 30 0 49 0;
#X connect 40 0 32 0;
#X connect 40 1 33 0;
#X connect 40 2 34 0;
#X connect 40 3 35 0;
#X connect 40 4 42 0;
#X connect 41 0 36 0;
#X connect 41 1 37 0;
#X connect 41 2 38 0;
#X connect 41 3 39 0;
#X connect 41 4 43 0;
#X connect 47 0 48 0;
#X connect 47 1 71 0;
#X connect 49 0 47 0;
#X connect 50 0 51 0;
#X connect 51 0 47 0;
#X connect 52 0 53 0;
#X connect 53 0 47 0;
#X connect 54 0 55 0;
#X connect 55 0 47 0;
#X connect 56 0 47 2;
#X connect 57 0 47 3;
#X connect 64 0 47 0;
#X connect 65 0 64 0;
#X connect 66 0 64 0;
#X connect 67 0 64 0;
#X connect 70 0 64 0;
#X connect 71 0 40 0;
#X connect 71 1 41 0;
