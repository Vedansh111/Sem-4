#N canvas 28 53 712 664 10;
#X obj 216 59 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X msg 55 94 loop \$1;
#X obj 56 72 tgl 15 0 empty empty empty 20 8 0 8 -262144 -1 -1 0 1
;
#X msg 111 67 open \$1;
#X obj 110 43 openpanel;
#X obj 95 26 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X floatatom 248 57 5 0 0 0 - - -;
#X msg 173 60 stop;
#X obj 189 93 metro 70;
#X obj 108 129 pdp_yqt;
#X obj 578 34 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 578 86 pdp_control;
#X msg 578 59 thread \$1;
#X floatatom 578 147 5 0 0 0 - - -;
#X obj 578 118 route pdp_drop;
#X obj 218 330 pdp_cluster;
#X obj 59 239 metro 70;
#X obj 104 205 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X msg 61 206 stop;
#X obj 50 270 pdp_v4l2;
#X text 56 628 Written by ydegoyon@gmail.com;
#X text 58 549 pdp_cluster : a color clusterization object;
#X msg 229 163 groupby \$1;
#X floatatom 306 164 5 0 0 0 - - -;
#X obj 285 358 route 0 1 2 3 4;
#X msg 269 203 maincolors \$1;
#X floatatom 361 206 5 0 0 0 - - -;
#X text 265 185 number of main ( clustered ) colors ( default : 5 )
;
#X floatatom 306 414 5 0 0 0 - - -;
#X floatatom 344 415 5 0 0 0 - - -;
#X floatatom 441 412 5 0 0 0 - - -;
#X floatatom 479 413 5 0 0 0 - - -;
#X floatatom 571 412 5 0 0 0 - - -;
#X floatatom 609 413 5 0 0 0 - - -;
#X obj 216 426 pdp_xv;
#X msg 291 243 ignoreblack \$1;
#X obj 391 243 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 416 242 1;
#X obj 452 241 loadbang;
#X text 290 224 don't consider black (0 \, 0 \, 0) as a color ( default
: 1 );
#X text 307 322 list of dominant/main ( clustered ) colors;
#X text 58 562 to be used in color blobs detection;
#X text 306 333 ( only u \, v components );
#X obj 307 479 pdp_ycfilter;
#X obj 307 505 pdp_xv;
#X text 303 525 filter biggest blob;
#X obj 428 480 pdp_ycfilter;
#X obj 428 506 pdp_xv;
#X text 424 526 filter second biggest blob;
#X text 600 526 etc.....;
#X msg 466 449 tolerance \$1;
#X floatatom 554 450 5 0 0 0 - - -;
#X text 227 144 color grouping factor ( min and default : 10 );
#X msg 593 448 0;
#X obj 629 450 loadbang;
#X msg 298 286 luminosity \$1;
#X obj 391 286 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 296 267 use luminosity component (Y) or not ( default : 0 )
;
#X text 56 600 ( y \, u \, v components but if luminosity is off \,
only u and v are significative);
#X text 58 576 it groups colors according to a clustering factor and
extracts the main colors of the incoming video;
#X obj 304 393 unpack f f f;
#X text 309 428 Y1;
#X text 348 430 U1;
#X floatatom 379 415 5 0 0 0 - - -;
#X text 383 430 V1;
#X obj 440 392 unpack f f f;
#X floatatom 515 412 5 0 0 0 - - -;
#X floatatom 646 413 5 0 0 0 - - -;
#X obj 570 392 unpack f f f;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 8 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 15 0;
#X connect 10 0 12 0;
#X connect 11 0 14 0;
#X connect 12 0 11 0;
#X connect 14 0 13 0;
#X connect 15 0 34 0;
#X connect 15 0 43 0;
#X connect 15 0 46 0;
#X connect 15 1 24 0;
#X connect 16 0 19 0;
#X connect 17 0 16 0;
#X connect 18 0 16 0;
#X connect 19 0 15 0;
#X connect 22 0 15 0;
#X connect 23 0 22 0;
#X connect 24 0 60 0;
#X connect 24 1 65 0;
#X connect 24 2 68 0;
#X connect 25 0 15 0;
#X connect 26 0 25 0;
#X connect 28 0 43 1;
#X connect 29 0 43 2;
#X connect 30 0 46 1;
#X connect 31 0 46 2;
#X connect 35 0 15 0;
#X connect 36 0 35 0;
#X connect 37 0 36 0;
#X connect 38 0 37 0;
#X connect 43 0 44 0;
#X connect 46 0 47 0;
#X connect 50 0 46 0;
#X connect 50 0 43 0;
#X connect 51 0 50 0;
#X connect 53 0 51 0;
#X connect 54 0 53 0;
#X connect 55 0 15 0;
#X connect 55 0 43 0;
#X connect 55 0 46 0;
#X connect 56 0 55 0;
#X connect 60 0 28 0;
#X connect 60 1 29 0;
#X connect 60 2 63 0;
#X connect 63 0 43 3;
#X connect 65 0 30 0;
#X connect 65 1 31 0;
#X connect 65 2 66 0;
#X connect 66 0 46 3;
#X connect 68 0 32 0;
#X connect 68 1 33 0;
#X connect 68 2 67 0;
